(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6414)}])},6414:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return f}});var t=n(5893),r=n(7294);function s(){return(0,t.jsxs)("header",{className:"relative overflow-hidden py-12 mb-8",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-cyber-grid bg-[length:50px_50px] opacity-10"}),(0,t.jsx)("div",{className:"container mx-auto px-4 relative z-10",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold",children:[(0,t.jsx)("span",{className:"block text-2xl text-neon-cyan mb-2 font-normal",children:"フリースタイル ラボ"}),(0,t.jsx)("span",{className:"bg-gradient-to-r from-neon-red via-neon-purple to-neon-cyan bg-clip-text text-transparent",children:"Freestyle Lab"})]}),(0,t.jsxs)("p",{className:"text-text-secondary text-lg",children:[(0,t.jsx)("span",{className:"text-neon-cyan",children:"バース"})," by バース • Beat by Beat"]})]})}),(0,t.jsxs)("div",{className:"absolute top-0 left-0 w-full h-full",children:[(0,t.jsx)("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-neon-purple opacity-10 rounded-full blur-[100px] animate-float"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-neon-cyan opacity-10 rounded-full blur-[100px] animate-float",style:{animationDelay:"-3s"}})]})]})}function i(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 cyber-grid transform-gpu perspective-1000 z-0"}),(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[1]",children:(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("img",{src:"samurai_PNG6.png",alt:"",className:"w-[800px] h-auto max-w-none object-contain opacity-15 mix-blend-luminosity select-none",style:{filter:"hue-rotate(140deg) saturate(50%) brightness(0.8)",WebkitMaskImage:"radial-gradient(circle at center, black 40%, transparent 80%)",maskImage:"radial-gradient(circle at center, black 40%, transparent 80%)"}})})}),(0,t.jsx)("div",{className:"fixed inset-0 bg-gradient-to-b from-background via-background/50 to-background opacity-80 z-[2]"}),(0,t.jsx)("div",{className:"fixed inset-0 bg-gradient-to-r from-background via-transparent to-background opacity-50 z-[2]"}),(0,t.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-[3]",children:[(0,t.jsx)("div",{className:"absolute top-1/4 -left-20 w-96 h-96 bg-neon-purple opacity-20 rounded-full blur-[100px] animate-float"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 -right-20 w-96 h-96 bg-neon-cyan opacity-20 rounded-full blur-[100px] animate-float",style:{animationDelay:"-3s"}})]})]})}var l=n(1766),o=n(9583),c=n(1179);let d={hiphop:"/beats/Hip Hop Beats.mp3",lofi:"/beats/Lofi Beats.mp3",trap:"/beats/Trap Music.mp3"},u={hiphop:{name:"hiphop",displayName:"Hip Hop",japaneseText:"ヒップホップ",defaultBpm:90},lofi:{name:"lofi",displayName:"Lo-fi",japaneseText:"ローファイ",defaultBpm:85},trap:{name:"trap",displayName:"Trap",japaneseText:"トラップ",defaultBpm:140}};function g(e){let{isPlaying:a,onBpmChange:n}=e,[s,i]=(0,r.useState)("hiphop"),[g,m]=(0,r.useState)(.7),[p,x]=(0,r.useState)(u.hiphop.defaultBpm),[h,b]=(0,r.useState)(!1),f=(0,r.useRef)(null),v=(0,r.useRef)(null),y=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(!0),new l.Howl({src:[d[e]],loop:!0,volume:g,html5:!1,preload:!0,rate:p/u[e].defaultBpm,autoplay:a,onload:()=>{b(!1),console.log("".concat(e," loaded"))},onloaderror:(a,n)=>{b(!1),console.error("Error loading ".concat(e,":"),n)},onplay:()=>console.log("".concat(e," playing")),onstop:()=>console.log("".concat(e," stopped")),onend:()=>console.log("".concat(e," ended"))})};(0,r.useEffect)(()=>(f.current=y(s),()=>{f.current&&f.current.unload(),v.current&&v.current.unload()}),[]),(0,r.useEffect)(()=>{f.current&&(a?f.current.play():f.current.pause())},[a]),(0,r.useEffect)(()=>{null==n||n(p)},[p,n]);let j=e=>{b(!0),v.current=y(e,a),f.current&&a&&(f.current.fade(g,0,500),v.current&&v.current.fade(0,g,500)),setTimeout(()=>{f.current&&f.current.unload(),f.current=v.current,v.current=null,b(!1)},500),i(e),x(u[e].defaultBpm)};return(0,t.jsx)("div",{className:"relative overflow-hidden",children:(0,t.jsxs)("div",{className:"bg-surface/80 backdrop-blur-lg p-6 rounded-xl border border-neon-cyan/10",children:[(0,t.jsx)("div",{className:"absolute inset-0 border border-neon-cyan/20 rounded-xl blur-sm"}),h&&(0,t.jsx)("div",{className:"absolute inset-0 bg-background/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,t.jsx)(o.XL6,{className:"text-4xl text-neon-cyan animate-spin"})}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:[(0,t.jsx)("span",{className:"text-sm text-neon-cyan block mb-1",children:"ビート セレクション"}),"Beat Selection"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-4 mb-8",children:Object.values(u).map(e=>(0,t.jsxs)("button",{onClick:()=>j(e.name),disabled:h,className:"group relative px-6 py-3 rounded-lg transition-all duration-300 disabled:opacity-50 ".concat(s===e.name?"bg-neon-cyan text-background shadow-lg shadow-neon-cyan/25 animate-neon-pulse":"bg-background/50 text-text-secondary hover:bg-neon-cyan/20 hover:text-neon-cyan"),children:[(0,t.jsx)("span",{className:"block text-xs mb-1 opacity-75",children:e.japaneseText}),(0,t.jsx)("span",{className:"block font-medium",children:e.displayName}),s===e.name&&(0,t.jsx)("div",{className:"absolute inset-0 bg-neon-cyan/20 rounded-lg blur-md -z-10"})]},e.name))}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-neon-cyan min-w-[4ch]",children:"音量"}),(0,t.jsxs)(c.fC,{className:"relative flex items-center select-none touch-none w-full h-5",defaultValue:[.7],max:1,step:.1,onValueChange:e=>{let a=e[0];m(a),f.current&&f.current.volume(a)},children:[(0,t.jsx)(c.fQ,{className:"bg-background relative grow rounded-full h-2 shadow-inner",children:(0,t.jsx)(c.e6,{className:"absolute bg-neon-cyan rounded-full h-full shadow-glow"})}),(0,t.jsx)(c.bU,{className:"block w-5 h-5 bg-white rounded-full hover:bg-gray-100 focus:outline-none shadow-lg shadow-neon-cyan/25 transition-transform hover:scale-110","aria-label":"Volume"})]}),(0,t.jsx)(o.rxG,{className:"text-neon-cyan"})]})}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-neon-cyan min-w-[4ch]",children:"BPM"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"range",min:60,max:200,value:p,onChange:e=>{let a=Number(e.target.value);if(x(a),f.current){let e=a/u[s].defaultBpm;f.current.rate(e)}},className:"w-full h-2 bg-background rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, rgb(77, 255, 245) 0%, rgb(77, 255, 245) ".concat((p-60)/140*100,"%, rgba(77, 255, 245, 0.1) ").concat((p-60)/140*100,"%)")}})}),(0,t.jsx)("span",{className:"text-text-secondary min-w-[3ch] text-right",children:p})]})})]})]})]})})}var m=n(9223);let p={street:{beginner:["street","hood","flow","rap","beat","grind","flex","crew","squad","real","true","raw","fresh","dope","lit","vibe","swag","game","code","life","mind","time","road","path","goal","move","chase"],intermediate:["hustle","grinder","motion","power","respect","rhythm","struggle","movement","streets","project","culture","wisdom","vision","master","flying","rising","walking","talking","making","taking","building","growing","knowing","flowing","showing","moving","proving"],advanced:["persevere","accomplish","dedicated","motivated","elevation","resilient","ambitious","visionary","authentic","innovative","masterful","tenacious","relentless","influential","phenomenal","legitimate","dominating","calculated","navigating","accelerate"]},love:{beginner:["heart","soul","love","care","hope","dream","feel","touch","kiss","hold","warm","soft","sweet","dear","pure","true","glow","shine","light","joy","peace","grace","faith","trust"],intermediate:["passion","feeling","emotion","healing","tender","gentle","caring","loving","glowing","shining","beauty","wonder","precious","perfect","devoted","forever","always","deeper","closer","stronger","sweeter","warmer","brighter"],advanced:["affection","devotion","cherished","treasured","enamored","enchanted","euphoric","passionate","embracing","radiating","resonating","captivating","everlasting","beautiful","wonderful","miraculous","harmonious","delightful","enchanting"]},battle:{beginner:["fight","win","beat","strong","blast","clash","spark","flame","blaze","rage","force","might","power","speed","strike","hit","punch","kick","slam","crash","bang","boom","rush","charge"],intermediate:["warrior","fighter","battle","victory","winning","crushing","blazing","raging","rising","striking","charging","burning","pushing","pulling","taking","making","breaking","shaking","moving","proving","showing","growing","knowing","flowing"],advanced:["destroyer","dominant","ferocious","victorious","unleashed","ferocious","merciless","relentless","invincible","unbeatable","unstoppable","incredible","formidable","devastating","annihilate","obliterate","demolishing","conquering","decimating","dominating"]},conscious:{beginner:["truth","wise","mind","think","learn","grow","know","see","hear","feel","real","pure","clean","clear","free","peace","love","light","hope","faith","truth","path","way","road"],intermediate:["wisdom","knowledge","thought","learning","growing","knowing","seeing","feeling","thinking","rising","shining","glowing","flowing","moving","proving","showing","teaching","reaching","seeking","speaking","healing","dealing","reading","leading"],advanced:["conscious","enlightened","awakened","elevated","liberated","illuminated","meditative","innovative","cognitive","perceptive","reflective","introspect","philosophic","analytical","conceptual","theoretical","metaphysical","intellectual","educational"]},party:{beginner:["fun","dance","move","groove","vibe","flow","glow","shine","light","bright","loud","proud","wild","free","jump","pump","spin","win","play","sway","rock","pop","drop","top"],intermediate:["party","dancing","moving","grooving","vibing","flowing","glowing","shining","rising","flying","riding","sliding","rolling","rocking","popping","dropping","jumping","pumping","spinning","winning","playing","staying","making","taking"],advanced:["celebrate","energetic","explosive","euphoric","ecstatic","fantastic","incredible","amazing","phenomenal","spectacular","magnificent","sensational","remarkable","outstanding","extraordinary","electrifying","mesmerizing","captivating","fascinating"]}},x={beginner:"Simple, common words",intermediate:"Moderate complexity",advanced:"Complex, multisyllabic words"},h={street:"Street Culture",love:"Love & Relationships",battle:"Battle Rap",conscious:"Conscious Rap",party:"Party Vibes"};function b(e){let{isPlaying:a,bpm:n,onPlayingChange:s}=e,[i,l]=(0,r.useState)(""),[o,c]=(0,r.useState)([]),[d,u]=(0,r.useState)("intermediate"),[g,b]=(0,r.useState)("street"),[f,v]=(0,r.useState)(10),[y,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(""),k=(0,r.useRef)(new Set),S=(0,r.useRef)(null),z=(0,r.useRef)(null),C=(0,r.useRef)(0),B=()=>{let e=p[g][d],a=e.filter(e=>!k.current.has(e));return 0===a.length?(k.current.clear(),e[Math.floor(Math.random()*e.length)]):a[Math.floor(Math.random()*a.length)]},_=async()=>{try{var e;N("");let a=await fetch("/api/generate-words",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({difficulty:d,theme:g,excludeWords:Array.from(k.current)})});if(!a.ok)throw Error("API request failed");let n=await a.json();if(n.error||!(null===(e=n.words)||void 0===e?void 0:e[0]))throw Error(n.error||"No word generated");let t=n.words[0].toLowerCase();if(k.current.has(t))throw Error("Word already used");l(t),k.current.add(t),C.current=0;try{let e=await fetch("/api/rhymes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({word:t})});if(e.ok){let a=await e.json(),n=(a.rhymes||[]).filter(e=>!k.current.has(e.toLowerCase())).slice(0,5);c(n)}}catch(e){console.error("Rhyme generation failed:",e),c([])}}catch(a){console.error("Word generation error:",a);let e=B();e?(l(e),k.current.add(e),c([]),C.current=0):(N("No more available words. Please change theme or difficulty."),C.current++,C.current>=3&&(E(),N("Word generation failed multiple times. Please try again.")))}v(10)};(0,r.useEffect)(()=>(y&&(_(),S.current=setInterval(_,1e4),z.current=setInterval(()=>{v(e=>e>0?e-1:10)},1e3)),()=>{S.current&&(clearInterval(S.current),S.current=null),z.current&&(clearInterval(z.current),z.current=null)}),[y]),(0,r.useEffect)(()=>{k.current.clear(),y&&_()},[d,g]);let E=()=>{j(!1),s(!1),l(""),c([]),v(10),N(""),S.current&&clearInterval(S.current),z.current&&clearInterval(z.current)};return(0,t.jsx)("div",{className:"bg-surface/80 backdrop-blur-lg p-6 rounded-xl border border-neon-cyan/10",children:(0,t.jsxs)(m.fC,{defaultValue:"generator",className:"flex flex-col gap-6",children:[(0,t.jsxs)(m.aV,{className:"flex gap-2 border-b border-white/10",children:[(0,t.jsx)(m.xz,{value:"generator",className:"px-4 py-2 text-text-secondary hover:text-neon-cyan data-[state=active]:text-neon-cyan data-[state=active]:border-b-2 data-[state=active]:border-neon-cyan",children:"Generator"}),(0,t.jsx)(m.xz,{value:"settings",className:"px-4 py-2 text-text-secondary hover:text-neon-cyan data-[state=active]:text-neon-cyan data-[state=active]:border-b-2 data-[state=active]:border-neon-cyan",children:"Settings"})]}),(0,t.jsxs)(m.VY,{value:"generator",className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[y&&(0,t.jsxs)("p",{className:"text-neon-cyan",children:["Next word in: ",f,"s"]}),(0,t.jsxs)("p",{className:"text-xs text-text-secondary",children:["Words used: ",k.current.size]})]}),(0,t.jsx)("button",{onClick:y?E:()=>{j(!0),s(!0),k.current.clear(),C.current=0,N("")},className:"px-6 py-3 rounded-lg ".concat(y?"bg-red-500 hover:bg-red-600":"bg-neon-cyan hover:bg-neon-cyan/90"," text-background transition-all duration-300 font-bold shadow-lg shadow-neon-cyan/25"),children:y?"Stop":"Start"})]}),w&&(0,t.jsx)("div",{className:"text-red-500 text-center bg-red-500/10 p-2 rounded",children:w}),i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-background/50 p-8 rounded-xl text-center shadow-lg border border-neon-cyan/10",children:(0,t.jsx)("span",{className:"text-5xl font-bold text-text-primary",children:i})}),o.length>0&&(0,t.jsxs)("div",{className:"bg-background/30 p-4 rounded-xl border border-neon-cyan/10",children:[(0,t.jsx)("h3",{className:"text-neon-cyan mb-2",children:"Rhymes with:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,a)=>(0,t.jsx)("span",{className:"px-3 py-1.5 bg-background/50 rounded-lg text-sm text-text-secondary",children:e},a))})]})]})]}),(0,t.jsxs)(m.VY,{value:"settings",className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-neon-cyan mb-2",children:"Difficulty"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(x).map(e=>{let[a,n]=e;return(0,t.jsxs)("button",{onClick:()=>u(a),className:"p-4 rounded-lg transition-all duration-300 ".concat(d===a?"bg-neon-cyan text-background shadow-lg shadow-neon-cyan/25":"bg-background/50 text-text-secondary hover:bg-neon-cyan/20 hover:text-neon-cyan"),children:[(0,t.jsx)("div",{className:"font-bold capitalize",children:a}),(0,t.jsx)("div",{className:"text-sm opacity-75",children:n})]},a)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-neon-cyan mb-2",children:"Theme"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:Object.entries(h).map(e=>{let[a,n]=e;return(0,t.jsx)("button",{onClick:()=>b(a),className:"p-4 rounded-lg transition-all duration-300 ".concat(g===a?"bg-neon-cyan text-background shadow-lg shadow-neon-cyan/25":"bg-background/50 text-text-secondary hover:bg-neon-cyan/20 hover:text-neon-cyan"),children:n},a)})})]})]})]})})}function f(){let[e,a]=(0,r.useState)(!1),[n,l]=(0,r.useState)(90);return(0,t.jsxs)("div",{className:"relative min-h-screen bg-background text-text-primary overflow-x-hidden",children:[(0,t.jsx)(i,{}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)(s,{}),(0,t.jsx)("main",{className:"container mx-auto px-4 pb-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsx)("div",{className:"transform transition-all duration-300 hover:scale-[1.02]",children:(0,t.jsxs)("div",{className:"relative backdrop-blur-md bg-surface/30 rounded-xl border border-neon-cyan/10 shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan/5 via-transparent to-neon-purple/5 opacity-50"}),(0,t.jsx)(g,{isPlaying:e,onBpmChange:l})]})}),(0,t.jsx)("div",{className:"transform transition-all duration-300 hover:scale-[1.02]",children:(0,t.jsxs)("div",{className:"relative backdrop-blur-md bg-surface/30 rounded-xl border border-neon-cyan/10 shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-cyan/5 via-transparent to-neon-purple/5 opacity-50"}),(0,t.jsx)(b,{isPlaying:e,onPlayingChange:e=>{a(e)},bpm:n})]})})]})}),(0,t.jsx)("footer",{className:"relative z-10 container mx-auto px-4 py-6 mt-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto text-center text-text-secondary text-sm",children:[(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-neon-cyan",children:"フリースタイル"})," • Freestyle Lab"]}),(0,t.jsx)("p",{className:"opacity-50",children:"Created for freestyle rap practice"})]})}),(0,t.jsx)("div",{className:"fixed bottom-4 right-4 text-neon-cyan opacity-30 pointer-events-none",children:(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs",children:"FL_v1.0"}),(0,t.jsx)("div",{className:"text-[10px] font-mono",children:"フリースタイル"})]})}),(0,t.jsx)("div",{className:"fixed top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-neon-cyan/20 to-transparent"}),(0,t.jsx)("div",{className:"fixed bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-neon-cyan/20 to-transparent"})]}),(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none","aria-hidden":"true",children:(0,t.jsx)("div",{className:"absolute h-full w-full",children:(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full",style:{background:"radial-gradient(circle, rgba(77, 255, 245, 0.05) 0%, transparent 70%)"}})})}),(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none mix-blend-overlay opacity-5",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 1px, rgba(0, 0, 0, 0.5) 2px, rgba(0, 0, 0, 0.5) 3px)",backgroundSize:"100% 3px"}}),(0,t.jsx)("div",{className:"fixed inset-0 pointer-events-none",style:{background:"radial-gradient(circle at center, transparent 40%, rgba(15, 15, 23, 0.4) 100%)"}})]})}}},function(e){e.O(0,[445,196,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);